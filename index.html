<!doctype html>
<html lang="sv">
<head>
  <!-- ================================
       META & SEO
  ==================================== -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>PureVia Sweden – Luftreningssystem för industri, kontor och storkök</title>
  <meta name="description" content="Stand-alone och integrerade system som kombinerar filtrering, jonisering och styrd oxidationsprocess." />
  <meta name="robots" content="index,follow" />
  <meta name="theme-color" content="#f1f9dc" />
  <link rel="canonical" href="https://pureviasweden.com/" />

  <!-- Social preview -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="PureVia Sweden – Luftreningssystem för industri, kontor och storkök">
  <meta property="og:description" content="Stand-alone och integrerade system som kombinerar filtrering, jonisering och styrd oxidationsprocess.">
  <meta property="og:url" content="https://pureviasweden.com/">
  <meta property="og:site_name" content="PureVia Sweden">
  <meta property="og:locale" content="sv_SE">
  <!-- Byt bilden till din faktiska OG-bild när du har den -->
  <meta property="og:image" content="https://pureviasweden.com/assets/og-hero.jpg">
  <meta property="og:image:alt" content="PureVia Sweden – avancerad luftrening för industri, kontor och storkök">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="PureVia Sweden – Luftreningssystem">
  <meta name="twitter:description" content="Stand-alone och integrerade system som kombinerar filtrering, jonisering och styrd oxidationsprocess.">
  <meta name="twitter:image" content="https://pureviasweden.com/assets/og-hero.jpg">

  <!-- ================================
       FONTS & ICONS
  ==================================== -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Poppins:wght@600;700;800&display=swap" rel="stylesheet">
  <link rel="icon" href="/favicon.ico" sizes="any">
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">


  <!-- Small perf win for the hero embed -->
  <link rel="preconnect" href="https://my.spline.design" crossorigin>

  <!-- ================================
       STYLES (external)
  ==================================== -->
  <link rel="stylesheet" type="text/css" href="style.css" />

  <!-- ================================
       SCHEMA.ORG (Organization)
  ==================================== -->
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "name": "PureVia Sweden",
  "url": "https://pureviasweden.com/",
  "logo": "https://pureviasweden.com/assets/logo_simple.png",
  "contactPoint": [{
    "@type": "ContactPoint",
    "telephone": "+46-735-944-654",
    "contactType": "sales",
    "areaServed": "SE",
    "availableLanguage": ["sv", "en"]
  }]
}
</script>
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebSite",
    "name": "PureVia Sweden",
    "url": "https://pureviasweden.com/",
    "inLanguage": "sv-SE",
    "publisher": {
      "@type": "Organization",
      "name": "PureVia Sweden",
      "logo": {
        "@type": "ImageObject",
        "url": "https://pureviasweden.com/assets/logo_simple.png"
      }
    }
  }
  </script>
</head>

<body>
  <a class="skip-link" href="#main">Hoppa till innehåll</a>
  <!-- =========================================
       HEADER / NAV
  ========================================== -->
  <header>
    <div class="container nav">
      <div class="brand">
        <img class="brand-badge" src="assets/logo_simple.png" alt="PureVia Sweden" aria-hidden="true" />
        <strong>PureVia Sweden</strong>
      </div>

      <nav class="nav-links" aria-label="Primär navigation">
        <a href="#produkter">Produkter</a>
        <a href="#teknologi">Teknologi &amp; säkerhet</a>
        <a href="#anvandning">Användningsområden</a>
        <a href="#om">Om oss</a>
        <a href="#kontakt">Kontakt</a>
      </nav>

      <button class="btn btn-primary cta" data-scroll="#kontakt" aria-label="Boka genomgång">
        Boka genomgång
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
          <path d="M5 12h14M13 5l7 7-7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </button>

      <!-- Mobile hamburger -->
      <button class="hamburger" id="hamburger" aria-label="Öppna meny" aria-controls="mobileNav" aria-expanded="false">
        <span class="bar"></span>
        <span class="bar"></span>
        <span class="bar"></span>
      </button>
    </div>
  </header>

  <!-- Mobile full-screen menu -->
  <div id="mobileNav" class="mobile-nav" hidden aria-hidden="true">
    <div class="mnav-backdrop" data-close-menu></div>
    <div class="mnav-panel" role="dialog" aria-modal="true" aria-labelledby="mnav-title">
      <div class="mnav-header">
        <strong id="mnav-title">Meny</strong>
      </div>
      <nav class="mnav-links" aria-label="Mobil navigation">
        <a class="mnav-link" href="#produkter">Produkter</a>
        <a class="mnav-link" href="#teknologi">Teknologi &amp; säkerhet</a>
        <a class="mnav-link" href="#anvandning">Användningsområden</a>
        <a class="mnav-link" href="#kontakt">Kontakt</a>
        <a class="mnav-link" href="#faq">FAQ</a>
        <a class="mnav-link" href="#om">Om oss</a>
        <a class="btn btn-primary mnav-cta" href="#kontakt">Boka genomgång</a>
      </nav>
    </div>
  </div>

  <!-- =========================================
       HERO (Spline background + copy)
  ========================================== -->
  <main id="main" tabindex="-1">
  <section class="pv-hero pv-hero--top" id="home">
    <!-- Background layer -->
    <div class="spline-bg">
      <iframe src="https://my.spline.design/flowingribbon-Pb2xLI0cBsKBjNYJkH3R1oFG/" frameborder="0" title="Dekorativ 3D-bakgrund" aria-hidden="true"></iframe>
    </div>

    <!-- Content layer -->
    <div class="pv-hero-inner">
      <div class="pv-hero-grid pv-hero-grid--top">
        <div id="hero-text" class="pv-hero-copy pv-hero-centered">
          <h1 class="hero-title">
            <span class="grad">Luftrening</span> som eliminerar<br />
            <span class="muted">– inte döljer.</span>
          </h1>

          <p class="lede">
            Oxidationsdriven luftrening som verkligen tar bort problemen – inte bara fångar upp dem.
          </p>

          <div class="pv-cta">
            <a class="btn btn-primary" href="#kontakt">Få en offert</a>
            <a class="btn btn-ghost" href="#produkter">Utforska produkter</a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================================
       PRODUKTER
  ========================================== -->
  <section id="produkter" style="background:var(--base-2)">
    <div class="container">
      <h2 class="section-title fade">Produkter</h2>

      <div class="grid-3" id="prod-carousel">
        <article class="card fade">
          <img src="assets/standalone.png" class="thumb" alt="LH-UL Stand-Alone" loading="lazy" decoding="async" />
          <h3>LH-UL Stand-Alone</h3>
          <p class="muted">Fristående enheter som inte bara renar luften – utan eliminerar lukt, fett och mikrober.</p>
          <p><a href="#kontakt" class="muted" style="font-weight:700">Läs mer &amp; offert →</a></p>
        </article>

        <article class="card fade">
          <img src="assets/compact1020.png" class="thumb" alt="Compact 10/20" loading="lazy" decoding="async" />
          <h3>Compact 10/20</h3>
          <p class="muted">Väggmonterad lösning som bryter ner fett, lukt och biofilm i storkök och ventilation.</p>
          <p><a href="#kontakt" class="muted" style="font-weight:700">Läs mer &amp; offert →</a></p>
        </article>

        <article class="card fade">
          <img src="assets/modular.png" class="thumb" alt="Modulära system (ABB/MAG/LKL)" loading="lazy" decoding="async" />
          <h3>Modulära system (ABB/MAG/LKL)</h3>
          <p class="muted">Flexibla moduler för integration i ventilation och industri. Sensorstyrd drift för säker och effektiv luftrening.</p>
          <p><a href="#kontakt" class="muted" style="font-weight:700">Läs mer &amp; offert →</a></p>
        </article>
      </div>
    </div>
  </section>

  <!-- =========================================
       TEKNOLOGI & SÄKERHET
  ========================================== -->
  <section id="teknologi">
    <div class="container">
      <h2 class="section-title fade">Teknologi &amp; säkerhet</h2>

      <div class="features" style="display:grid; gap:18px">
        <div class="feature fade">
          <div style="display:flex; align-items:center; gap:10px">
            <!-- Gauge icon -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M21 12a9 9 0 10-18 0 9 9 0 0018 0zm-9 0l5-3" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <h3>Styrd oxidation</h3>
          </div>
          <p class="muted">Reaktivt syre bryter ned lukt, fett och mikrober, rest blir O₂.</p>
        </div>

        <div class="feature fade">
          <div style="display:flex; align-items:center; gap:10px">
            <!-- Shield icon -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 3l8 4v5c0 5-3.5 9-8 9s-8-4-8-9V7l8-4z" stroke="currentColor" stroke-width="2" stroke-linejoin="round" />
            </svg>
            <h3>Säker drift</h3>
          </div>
          <p class="muted">Vi prioriterar säkerheten – våra system övervakar nivåer och anpassar sig automatiskt för säker drift.</p>
        </div>

        <div class="feature fade">
          <div style="display:flex; align-items:center; gap:10px">
            <!-- Settings icon -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M12 15a3 3 0 100-6 3 3 0 000 6z" stroke="currentColor" stroke-width="2" />
              <path d="M19.4 15a1.65 1.65 0 00.33 1.82l.06.06a2 2 0 01-2.83 2.83l-.06-.06A1.65 1.65 0 0015 19.4a1.65 1.65 0 00-1 .6 1.65 1.65 0 00-.33 1.82 2 2 0 01-3.34 0 1.65 1.65 0 00-.33-1.82 1.65 1.65 0 00-1-.6 1.65 1.65 0 00-1.82.33l-.06.06a2 2 0 01-2.83-2.83l.06-.06A1.65 1.65 0 004.6 15a1.65 1.65 0 00-.6-1 1.65 1.65 0 00-1.82-.33 2 2 0 010-3.34 1.65 1.65 0 001.82-.33 1.65 1.65 0 00.6-1A1.65 1.65 0 004.6 8a1.65 1.65 0 00-.33-1.82l-.06-.06A2 2 0 017.04 3.3l.06.06A1.65 1.65 0 009 4.6c.36 0 .71-.13 1-.36.29-.23.49-.56.6-.92a2 2 0 013.34 0c.1.36.31.69.6.92.29.23.64.36 1 .36.63 0 1.23-.25 1.68-.7l.06-.06a2 2 0 012.83 2.83l-.06.06c-.45.45-.7 1.05-.7 1.68 0 .36.13.71.36 1 .23.29.56.49.92.6.36.1.69.31.92.6.23.29.36.64.36 1z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
            </svg>
            <h3>Smart styrning</h3>
          </div>
          <p class="muted">Stöd för sensorer, automatisk avstängning vid stillastående luft.</p>
        </div>

        <div class="feature fade">
          <div style="display:flex; align-items:center; gap:10px">
            <!-- Book/Check icon -->
            <svg width="22" height="22" viewBox="0 0 24 24" fill="none" aria-hidden="true">
              <path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z" stroke="currentColor" stroke-width="2" />
              <path d="M22 6l-10 7L2 6" stroke="currentColor" stroke-width="2" />
            </svg>
            <h3>Certifierad och testad</h3>
          </div>
          <p class="muted">CE-märkta produkter med dokumenterad effekt.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================================
       ANVÄNDNINGSOMRÅDEN
  ========================================== -->
  <section id="anvandning" style="background:var(--base-2)">
    <div class="container">
      <h2 class="section-title fade">Användningsområden</h2>

      <div class="use-grid">
        <a class="use-card fade" href="#kontakt" aria-label="Industri & produktion – kontakta oss">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 6h18v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6z" stroke="currentColor" stroke-width="2"/><path d="M3 10h18" stroke="currentColor" stroke-width="2"/></svg>
          <h3>Industri & produktion</h3>
          <p>Eliminerar lukt och aerosoler i processmiljöer.</p>
        </a>

        <a class="use-card fade" href="#kontakt" aria-label="Skolor & kontor – kontakta oss">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 7h18v10a2 2 0 01-2 2H5a2 2 0 01-2-2V7z" stroke="currentColor" stroke-width="2"/><path d="M7 7V5a2 2 0 012-2h6a2 2 0 012 2v2" stroke="currentColor" stroke-width="2"/></svg>
          <h3>Skolor & kontor</h3>
          <p>Renare luft för bättre arbetsmiljö och fokus.</p>
        </a>

        <a class="use-card fade" href="#kontakt" aria-label="Restaurang & storkök – kontakta oss">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 3v10a3 3 0 106 0V3M18 3v14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <h3>Restaurang & storkök</h3>
          <p>Bryter ner fett, lukt och biofilm i ventilation.</p>
        </a>

        <a class="use-card fade" href="#kontakt" aria-label="Lager & logistik – kontakta oss">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 9l9-6 9 6v9a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" stroke="currentColor" stroke-width="2"/><path d="M9 22V12h6v10" stroke="currentColor" stroke-width="2"/></svg>
          <h3>Lager & logistik</h3>
          <p>Minskar lukt och partiklar i stora volymer.</p>
        </a>

        <a class="use-card fade" href="#kontakt" aria-label="Garage & källare – kontakta oss">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 10l9-6 9 6v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8z" stroke="currentColor" stroke-width="2"/><path d="M7 20v-6h10v6" stroke="currentColor" stroke-width="2"/></svg>
          <h3>Garage & källare</h3>
          <p>Motverkar instängd lukt och fuktproblematik.</p>
        </a>

        <a class="use-card fade" href="#kontakt" aria-label="Gym & wellness – kontakta oss">
          <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M6 8h12M4 12h16M6 16h12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          <h3>Gym & wellness</h3>
          <p>Fräschare luft vid hög belastning och aktivitet.</p>
        </a>
      </div>
    </div>
  </section>

  <!-- =========================================
       VARFÖR PUREVIA
  ========================================== -->
  <section id="om">
    <div class="container">
      <h2 class="section-title fade">Varför PureVia</h2>

      <div class="why-grid">
        <div class="why-card fade">
          <div class="why-icon">
            <!-- check/badge -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M20 6l-11 11L4 12" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h3>Bevisad effekt</h3>
          <p>CE-märkt och testdata från verkliga miljöer. Dokumenterad nedbrytning – inte bara filtrering.</p>
        </div>

        <div class="why-card fade">
          <div class="why-icon">
            <!-- flex/gear -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><circle cx="12" cy="12" r="3" stroke="currentColor" stroke-width="2"/><path d="M19.4 15a2 2 0 010 4l-1.2.7a2 2 0 01-2.1-.2l-.6-.4a8 8 0 01-2 .8l-.2.7a2 2 0 01-2 1.4H10a2 2 0 01-2-1.4l-.2-.7a8 8 0 01-2-.8l-.6.4a2 2 0 01-2.1.2L1.9 19a2 2 0 010-4l.7-1.2a8 8 0 01-.3-2 8 8 0 01.3-2L1.9 8a2 2 0 010-4l1.2-.7a2 2 0 012.1.2l.6.4a8 8 0 012-.8l.2-.7A2 2 0 0110 1h1a2 2 0 012 1.4l.2.7a8 8 0 012 .8l.6-.4a2 2 0 012.1-.2L20.1 4a2 2 0 010 4l-.7 1.2c.2.7.3 1.3.3 2s-.1 1.3-.3 2l.7 1.8z" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          </div>
          <h3>Flexibel lösning</h3>
          <p>Stand-alone eller integrerat i ventilation. Sensorstyrning för rätt nivå i varje miljö.</p>
        </div>

        <div class="why-card fade">
          <div class="why-icon">
            <!-- handshake -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M21 8l-6 6a4 4 0 01-6 0l-2-2M3 12l4 4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h3>Rätt partner</h3>
          <p>Leverans och installation via certifierade installatörer – tryggt från offert till drift.</p>
        </div>

        <div class="why-card fade">
          <div class="why-icon">
            <!-- chart/arrow -->
            <svg viewBox="0 0 24 24" fill="none" aria-hidden="true"><path d="M3 20V4M3 20h18M7 16l3-3 3 2 4-5" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          </div>
          <h3>Ekonomi & drift</h3>
          <p>Mindre fett och lukt i kanaler ger lägre rengöringsbehov, bättre arbetsmiljö och stabil drift.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- =========================================
       FAQ
  ========================================== -->
  <section id="faq" style="background:var(--base-2)">
    <div class="container">
      <h2 class="section-title fade">Vanliga frågor</h2>
      <div class="faq">
        <details class="faq-item fade">
          <summary>Hur skiljer sig er lösning från traditionell filtrering?</summary>
          <p>Våra system använder styrd oxidation i kombination med filtrering. Istället för att enbart fånga partiklar bryter vi aktivt ner lukt, fett och mikroorganismer – restprodukten är syre (O₂).</p>
        </details>
        <details class="faq-item fade">
          <summary>Är tekniken säker för personal och gäster?</summary>
          <p>Ja. Systemen är sensorstyrda och anpassar nivåerna automatiskt för säker drift. Produkterna är CE‑märkta och testade i verkliga miljöer.</p>
        </details>
        <details class="faq-item fade">
          <summary>Passar produkterna i befintlig ventilation?</summary>
          <p>Ja. Vi erbjuder stand‑alone‑enheter samt modulära lösningar för integration i befintliga ventilationssystem.</p>
        </details>
        <details class="faq-item fade">
          <summary>Hur kommer jag igång?</summary>
          <p>Kontakta oss för en kostnadsfri genomgång. Vi rekommenderar rätt lösning och lämnar offert baserat på din miljö.</p>
        </details>
      </div>
    </div>
  </section>

  <!-- =========================================
       KONTAKT
  ========================================== -->
  <section id="kontakt" style="background:var(--base-2)">
    <div class="container">
      <h2 class="section-title fade">Kontakt</h2>

      <!-- EN kolumn: bara direktkontakt-kortet -->
      <div class="contact-single">
        <aside class="contact-card fade" aria-label="Kontaktuppgifter">
          <h3>Direktkontakt</h3>

          <div class="contact-item">
            <div class="contact-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M22 16.92v2a2 2 0 0 1-2.18 2A19.8 19.8 0 0 1 3.11 4.18 2 2 0 0 1 5.1 2h2a2 2 0 0 1 2 1.72c.12.9.3 1.77.54 2.6a2 2 0 0 1-.45 2L8 9a16 16 0 0 0 7 7l.68-1.19a2 2 0 0 1 2-.9c.83.24 1.7.42 2.6.54A2 2 0 0 1 22 16.92z" stroke="currentColor" stroke-width="2"/></svg>
            </div>
            <div class="contact-text">
              <div class="label">Telefon</div>
              <a href="tel:+46735944654" class="value">073-594 46 54</a>
            </div>
            <button class="copy-btn" data-copy="+46735944654" aria-label="Kopiera telefonnummer"><span class="copy-label">Kopiera</span></button>
          </div>

          <div class="contact-item">
            <div class="contact-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M4 4h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2z" stroke="currentColor" stroke-width="2"/><path d="M22 6l-10 7L2 6" stroke="currentColor" stroke-width="2"/></svg>
            </div>
            <div class="contact-text">
              <div class="label">E-post</div>
              <a href="mailto:pureviasweden@outlook.com" class="value">pureviasweden@outlook.com</a>
            </div>
            <button class="copy-btn" data-copy="pureviasweden@outlook.com" aria-label="Kopiera e-post"><span class="copy-label">Kopiera</span></button>
          </div>

          <div class="contact-item">
            <div class="contact-icon" aria-hidden="true">
              <svg viewBox="0 0 24 24" fill="none"><path d="M12 21s-7-5.33-7-11a7 7 0 1 1 14 0c0 5.67-7 11-7 11z" stroke="currentColor" stroke-width="2"/><circle cx="12" cy="10" r="3" stroke="currentColor" stroke-width="2"/></svg>
            </div>
            <div class="contact-text">
              <div class="label">Plats</div>
              <div class="value">Helsingborg</div>
            </div>
          </div>
        </aside>
      </div>
    </div>
  </section>

  </main>

  <!-- =========================================
       FOOTER
  ========================================== -->
  <footer>
    <div class="container foot">
      <div>
        <strong>PureVia Sweden</strong><br />
        <span>org.nr 990924-7976 · Helsingborg</span>
      </div>
    </div>
  </footer>

  <!-- Back to top button -->
  <button id="toTop" aria-label="Till toppen" title="Till toppen" hidden>
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 19V5m0 0l-7 7m7-7l7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
    </svg>
  </button>

  <!-- =========================================
       SCRIPTS
       (All logic kept; improved interactions & UX)
  ========================================== -->

  <!-- Smooth scroll for buttons using [data-scroll] -->
  <script>
    document.addEventListener('click', (e) => {
      const target = e.target.closest('[data-scroll]');
      if (!target) return;
      const sel = target.getAttribute('data-scroll');
      const el = document.querySelector(sel);
      if (el) { e.preventDefault(); el.scrollIntoView({ behavior: 'smooth' }); }
    });
  </script>

  <!-- IntersectionObserver for .fade elements -->
  <script>
    const io = new IntersectionObserver((entries) => {
      entries.forEach(en => {
        if (en.isIntersecting) { en.target.classList.add('show'); io.unobserve(en.target); }
      });
    }, { threshold: .12 });
    document.querySelectorAll('.fade').forEach(el => io.observe(el));
  </script>

  <!-- Mock form submit alert (no form yet) -->
  <script>
    // Header scroll state + active section highlighting
    const headerEl = document.querySelector('header');
    const navLinks = Array.from(document.querySelectorAll('header .nav-links a'));
    const mnavLinks = Array.from(document.querySelectorAll('#mobileNav .mnav-links a'));
    const sectionIds = Array.from(new Set(
      [...navLinks, ...mnavLinks]
        .map(a => a.getAttribute('href'))
        .filter(h => h && h.startsWith('#'))
    ));
    const sections = sectionIds.map(id => document.querySelector(id)).filter(Boolean);

    const updateHeaderH = () => {
      const h = headerEl?.offsetHeight || 64;
      document.documentElement.style.setProperty('--header-h', h + 'px');
    };
    const setHeaderState = () => {
      const scrolled = window.scrollY > 8;
      headerEl?.classList.toggle('scrolled', scrolled);
    };

    const setActive = (id) => {
      navLinks.forEach(a => {
        const match = a.getAttribute('href') === id;
        a.classList.toggle('is-active', match);
        if (match) { a.setAttribute('aria-current', 'true'); } else { a.removeAttribute('aria-current'); }
      });
      mnavLinks.forEach(a => {
        const match = a.getAttribute('href') === id;
        a.classList.toggle('is-active', match);
        if (match) { a.setAttribute('aria-current', 'true'); } else { a.removeAttribute('aria-current'); }
      });
    };

    const activeIO = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = '#' + entry.target.id;
          setActive(id);
        }
      });
    }, { threshold: 0.5 });

    sections.forEach(sec => activeIO.observe(sec));
    updateHeaderH();
    setHeaderState();
    window.addEventListener('scroll', setHeaderState, { passive: true });
    window.addEventListener('resize', updateHeaderH);

    // Copy-to-clipboard interactions
    document.addEventListener('click', async (e) => {
      const btn = e.target.closest('.copy-btn');
      if (!btn) return;
      const text = btn.getAttribute('data-copy');
      if (!text) return;
      try {
        if (navigator.clipboard?.writeText) {
          await navigator.clipboard.writeText(text);
        } else {
          const ta = document.createElement('textarea');
          ta.value = text; ta.style.position = 'fixed'; ta.style.opacity = '0';
          document.body.appendChild(ta); ta.select(); document.execCommand('copy');
          document.body.removeChild(ta);
        }
        btn.classList.add('copied');
        setTimeout(() => btn.classList.remove('copied'), 1400);
      } catch {}
    });

    // Back to top button
    const toTop = document.getElementById('toTop');
    const toggleTop = () => {
      const show = window.scrollY > 600;
      if (!toTop) return;
      toTop.hidden = !show;
      toTop.classList.toggle('show', show);
    };
    toggleTop();
    window.addEventListener('scroll', toggleTop, { passive: true });
    toTop?.addEventListener('click', () => window.scrollTo({ top: 0, behavior: 'smooth' }));

    // Mobile menu interactions
    const burger = document.getElementById('hamburger');
    const mnav = document.getElementById('mobileNav');
    const main = document.getElementById('main');
    let lastFocus = null;

    function openMenu(){
      if (!mnav || !burger) return;
      lastFocus = document.activeElement;
      mnav.hidden = false;
      mnav.setAttribute('aria-hidden', 'false');
      burger.setAttribute('aria-expanded', 'true');
      document.body.classList.add('menu-open');
      main?.setAttribute('aria-hidden', 'true');
      requestAnimationFrame(() => mnav.classList.add('open'));
      // focus first link
      const first = mnav.querySelector('.mnav-links a');
      first?.focus();
    }
    function closeMenu(){
      if (!mnav || !burger) return;
      mnav.classList.remove('open');
      mnav.setAttribute('aria-hidden', 'true');
      burger.setAttribute('aria-expanded', 'false');
      document.body.classList.remove('menu-open');
      main?.removeAttribute('aria-hidden');
      setTimeout(() => { mnav.hidden = true; }, 200);
      lastFocus && (lastFocus instanceof HTMLElement) && lastFocus.focus();
    }
    burger?.addEventListener('click', () => {
      const expanded = burger.getAttribute('aria-expanded') === 'true';
      expanded ? closeMenu() : openMenu();
    });
    mnav?.addEventListener('click', (e) => {
      if (e.target instanceof Element && e.target.closest('[data-close-menu]')) closeMenu();
    });
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && mnav && !mnav.hidden) closeMenu();
    });
    // Close when clicking a link
    mnavLinks.forEach(a => a.addEventListener('click', () => closeMenu()));

    // Mobile products carousel dots + hint (re-enabled)
    (function(){
      const carousel = document.getElementById('prod-carousel');
      if (!carousel) return;
      const mq = window.matchMedia('(max-width: 767px)');
      let dotsWrap = null; let cards = [];

      function build(){
        if (!mq.matches) { destroy(); return; }
        cards = Array.from(carousel.children).filter(el => el.matches('.card'));
        if (!dotsWrap){
          dotsWrap = document.createElement('div'); dotsWrap.className = 'carousel-dots';
          carousel.after(dotsWrap);
        } else { dotsWrap.innerHTML = ''; }
        cards.forEach((_, i) => {
          const b = document.createElement('button'); b.type = 'button'; b.className = 'dot'; b.setAttribute('aria-label', `Visa kort ${i+1}`);
          b.addEventListener('click', () => {
            const left = cards[i].offsetLeft - 12; // align with scroll-padding-left
            carousel.scrollTo({ left, behavior: 'smooth' });
            carousel.classList.add('interacted');
            update(i);
          });
          dotsWrap.appendChild(b);
        });
        update(0);
      }

      function currentIndex(){
        const scrollLeft = carousel.scrollLeft;
        let nearest = 0; let min = Infinity;
        cards.forEach((c, i) => {
          const d = Math.abs(c.offsetLeft - scrollLeft);
          if (d < min){ min = d; nearest = i; }
        });
        return nearest;
      }
      function update(idx){
        if (!dotsWrap) return;
        const dots = Array.from(dotsWrap.querySelectorAll('.dot'));
        dots.forEach((d, i) => d.setAttribute('aria-selected', i === idx ? 'true' : 'false'));
      }

      const onScroll = () => { carousel.classList.add('interacted'); update(currentIndex()); };
      const onInteract = () => carousel.classList.add('interacted');

      function destroy(){
        carousel.removeEventListener('scroll', onScroll);
        carousel.removeEventListener('touchstart', onInteract);
        carousel.removeEventListener('mousedown', onInteract);
        if (dotsWrap){ dotsWrap.remove(); dotsWrap = null; }
      }

      build();
      carousel.addEventListener('scroll', onScroll, { passive:true });
      carousel.addEventListener('touchstart', onInteract, { passive:true });
      carousel.addEventListener('mousedown', onInteract);
      window.addEventListener('resize', build);
    })();
  </script>

  <!-- FAQPage structured data -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "FAQPage",
    "mainEntity": [
      {
        "@type": "Question",
        "name": "Hur skiljer sig er lösning från traditionell filtrering?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Våra system använder styrd oxidation i kombination med filtrering. Istället för att enbart fånga partiklar bryter vi aktivt ner lukt, fett och mikroorganismer – restprodukten är syre (O₂)."
        }
      },
      {
        "@type": "Question",
        "name": "Är tekniken säker för personal och gäster?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Ja. Systemen är sensorstyrda och anpassar nivåerna automatiskt för säker drift. Produkterna är CE‑märkta och testade i verkliga miljöer."
        }
      },
      {
        "@type": "Question",
        "name": "Passar produkterna i befintlig ventilation?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Ja. Vi erbjuder stand‑alone‑enheter samt modulära lösningar för integration i befintliga ventilationssystem."
        }
      },
      {
        "@type": "Question",
        "name": "Hur kommer jag igång?",
        "acceptedAnswer": {
          "@type": "Answer",
          "text": "Kontakta oss för en kostnadsfri genomgång. Vi rekommenderar rätt lösning och lämnar offert baserat på din miljö."
        }
      }
    ]
  }
  </script>

  <!-- IntersectionObserver for multiple fade-* classes (optional, kept) -->
  <script>
    (() => {
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) return;
      const io = new IntersectionObserver((entries, obs) => {
        entries.forEach(en => {
          if (en.isIntersecting) { en.target.classList.add('show'); obs.unobserve(en.target); }
        });
      }, { rootMargin: '0px 0px -10% 0px', threshold: 0.12 });
      document.querySelectorAll('.fade-in, .fade-up, .fade-down, .fade-left, .fade-right, .fade-zoom')
        .forEach(el => io.observe(el));
    })();
  </script>
</body>
</html>
